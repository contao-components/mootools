!function(){[Element,Window,Document].invoke("implement",{hasEvent:function(n){var e=this.retrieve("events"),t=e&&e[n]?e[n].values:null;if(t)for(var o=t.length;o--;)if(o in t)return!0;return!1}});var n=function(n,e,t){return e=n[e],t=n[t],function(n,o){t&&!this.hasEvent(o)&&t.call(this,n,o),e&&e.call(this,n,o)}},e=function(n,e,t){return function(o,i){e[t].call(this,o,i),n[t].call(this,o,i)}},t=Element.Events;Element.defineCustomEvent=function(o,i){var c=t[i.base];return i.onAdd=n(i,"onAdd","onSetup"),i.onRemove=n(i,"onRemove","onTeardown"),t[o]=c?Object.append({},i,{base:c.base,condition:function(n,e){return(!c.condition||c.condition.call(this,n,e))&&(!i.condition||i.condition.call(this,n,e))},onAdd:e(i,c,"onAdd"),onRemove:e(i,c,"onRemove")}):i,this},Element.enableCustomEvents=function(){Object.each(t,function(n,e){n.onEnable&&n.onEnable.call(n,e)})},Element.disableCustomEvents=function(){Object.each(t,function(n,e){n.onDisable&&n.onDisable.call(n,e)})}}(),Browser.Features.Touch=function(){try{return document.createEvent("TouchEvent").initTouchEvent("touchstart"),!0}catch(n){}return!1}(),Browser.Features.iOSTouch=function(){var n="cantouch",e=document.html,t=!1;if(!e.addEventListener)return!1;var o=function(){e.removeEventListener(n,o,!0),t=!0};try{e.addEventListener(n,o,!0);var i=document.createEvent("TouchEvent");return i.initTouchEvent(n),e.dispatchEvent(i),t}catch(n){}return o(),!1}(),function(){var n,e,t={},o=function(){e=!1},i={touchstart:function(n){if(!(n.touches.length>1)){var o=n.touches[0];e=!0,t={x:o.pageX,y:o.pageY}}},touchmove:function(o){if(!n&&e){var i=o.changedTouches[0],c={x:i.pageX,y:i.pageY};if(this.retrieve("swipe:cancelVertical")&&Math.abs(t.y-c.y)>10)e=!1;else{var r=this.retrieve("swipe:distance",50),a=c.x-t.x,u=a<-r;(a>r||u)&&(o.preventDefault(),e=!1,o.direction=u?"left":"right",o.start=t,o.end=c,this.fireEvent("swipe",o))}}},touchend:o,touchcancel:o};Element.defineCustomEvent("swipe",{onSetup:function(){this.addEvents(i)},onTeardown:function(){this.removeEvents(i)},onEnable:function(){n=!1},onDisable:function(){n=!0,o()}})}();